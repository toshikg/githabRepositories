<div>
  <h1>Repositories</h1>

  <div class="content"
       fxLayout="row"
       fxLayout.lt-sm="column">
    <div fxFlex.gt-md="30">
      <mat-form-field class="field-full-width">
        <input [formControl]="filterCtrl" matInput placeholder="Type repository name">
      </mat-form-field>
    </div>
    <div fxFlex.gt-md="20" fxFlexOffset.gt-xs="20px">
      <mat-form-field class="field-full-width">
        <mat-select placeholder="Sorting" [formControl]="sortingCtrl">
          <mat-option *ngFor="let sort of sorting" [value]="sort">
            {{sortNames[sort]}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>


  <div *ngIf="(reposFiltered | async) as repos">
    <div class="repos-list" *ngFor="let repo of repos">
      <h3><a class="mat-accent" [routerLink]="['/repos', repo.id]" >{{repo.name}}</a></h3>
      <p>{{repo.description}}</p>
      <p class="mat-caption">{{repo.updated_at | date}}</p>
      <mat-divider></mat-divider>
    </div>

    <p *ngIf="repos?.length === 0 && filterCtrl.value">
      There are no repositories related to your query
    </p>
  </div>
</div>
